(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7dbb"],{7936:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",staticStyle:{margin:"100px auto"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-12"},[t.$route.query.edit?e("div",{staticClass:"card"},[t._m(0),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("form",{on:{submit:function(t){t.preventDefault()}}},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Category")]),e("div",{staticClass:"control is-fullwidth"},[e("div",{staticClass:"select is-fullwidth"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.status=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"placed"}},[t._v("Placed")]),e("option",{attrs:{value:"processing"}},[t._v("Processing")]),e("option",{attrs:{value:"shipped"}},[t._v("Shipped")]),e("option",{attrs:{value:"delivered"}},[t._v("Delivered")]),e("option",{attrs:{value:"canceled"}},[t._v("Canceled")])])])])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Details")]),e("div",{staticClass:"control"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.details,expression:"details"}],staticClass:"textarea",attrs:{type:"text",placeholder:"Processing your order",required:""},domProps:{value:t.details},on:{input:function(a){a.target.composing||(t.details=a.target.value)}}})])]),t.form_errors&&t.form_errors.length?e("div",{staticClass:"field has-text-danger"},t._l(t.form_errors,(function(a,s){return e("p",{key:s,staticClass:"help"},[t._v(t._s(a))])})),0):t._e()])])]),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"card-footer-item"},[e("button",{staticClass:"button is-fullwidth",attrs:{type:"submit"},on:{click:function(a){return a.preventDefault(),t.submitForm(a)}}},[t._v("Save")])])])]):t._e(),e("br"),e("br"),!t.$route.query.edit&&t.orders?e("div",{staticClass:"card"},[t._m(1),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("div",{staticClass:"table-container",staticStyle:{"overflow-x":"auto"}},[e("table",{staticClass:"table"},[t._m(2),e("tbody",t._l(t.orders,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(++s))]),e("td",[t._v(t._s(a.status))]),e("td",[t._v(t._s(a.details))]),e("td",[t._v(t._s(a.date))]),e("td",[e("router-link",{staticClass:"button is-primary",attrs:{to:{name:"order-data",params:{id:a.id}}}},[t._v("View Data")])],1),e("td",[t.$route.query.page?e("router-link",{staticClass:"button is-info",attrs:{to:{name:"manage-orders",query:{page:t.$route.query.page,edit:a.id}}}},[t._v("Edit Order")]):e("router-link",{staticClass:"button is-info",attrs:{to:{name:"manage-orders",query:{edit:a.id}}}},[t._v("Edit Order")])],1),e("td",[e("a",{staticClass:"button is-danger",class:{disabled:"canceled"==a.status||"delivered"==a.status},on:{click:function(e){return e.preventDefault(),t.cancelOrder(e,a)}}},[t._v("\n                                                "+t._s("canceled"==a.status?"Order is canceled.":"delivered"==a.status?"Order is delivered":"Cancel Order")+"\n                                            ")])])])})),0)])])])]),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"content"},[!t.$route.params.id&&t.paginator?e("nav",{staticClass:"pagination is-rounded",staticStyle:{margin:"10px auto"},attrs:{role:"navigation"}},[e("router-link",{staticClass:"pagination-previous",class:{disabled:t.paginator.current_page<=1},attrs:{to:{name:"manage-orders",query:{page:t.paginator.current_page-1}}}},[t._v("Previous")]),e("router-link",{staticClass:"pagination-next",class:{disabled:t.paginator.current_page>=t.paginator.last_page},attrs:{to:{name:"manage-orders",query:{page:t.paginator.current_page+1}}}},[t._v("Next page")]),e("ul",{staticClass:"pagination-list",staticStyle:{"list-style":"none","margin-top":"-3px"}},t._l(t.paginator.last_page,(function(a){return e("li",{key:a},[e("router-link",{staticClass:"pagination-link",class:{disabled:a==t.paginator.current_page},attrs:{to:{name:"manage-orders",query:{page:a}}}},[t._v("\n                                        "+t._s(a)+"\n                                    ")])],1)})),0)],1):t._e()])])]):t._e()])])])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header"},[e("p",{staticClass:"card-header-title"},[t._v("Update Order")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header"},[e("h1",{staticClass:"card-header-title"},[t._v("\n                        Manage Orders\n                    ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("#")]),e("th",[t._v("Status")]),e("th",[t._v("Description")]),e("th",[t._v("Date")]),e("th",{attrs:{colspan:"3"}},[t._v("Actions")])])])}],i={data:function(){return{id:null,orders:null,status:null,details:null,paginator:null,form_errors:null}},created:function(){this.$route.query.edit?this.getOrderData(this.$route.query.edit):this.loadData(this.$route.query.page)},beforeRouteUpdate:function(t,a,e){t.query.edit?this.getOrderData(t.query.edit):this.loadData(t.query.page),e()},methods:{loadData:function(t){this.$route.params.id?this.getOrderData(this.$route.params.id):this.getOrdersList(t)},getOrdersList:function(t){var a=this;this.$store.dispatch("get_orders",{page:t||1,all:!0}).then((function(t){a.orders=t.data.data,a.paginator=t.data.meta})).catch((function(t){return console.log(t)}))},getOrderData:function(t){var a=this;this.$store.dispatch("get_order",t).then((function(t){a.id=t.data.data.id,a.status=t.data.data.status,a.details=t.data.data.details})).catch((function(t){return console.log(t)}))},cancelOrder:function(t,a){var e=this,s={id:a.id,status:"canceled",details:"Order was canceled by Admin"};this.$store.dispatch("update_order",s).then((function(t){e.$toastr("info","Success! Order was canceled.","Information"),e.loadData()})).catch((function(t){e.$toastr("error","Aah! Something went wrong.","Error")}))},submitForm:function(){var t=this,a={id:this.id,status:this.status,details:this.details};this.$store.dispatch("update_order",a).then((function(a){t.$toastr("info","Success! Order was updated.","Information"),t.$router.push({name:"manage-orders",query:{page:t.$route.query.page||1}})})).catch((function(a){if(t.form_errors=[],a.response.data.errors)for(var e in a.response.data.errors)e&&e.length&&t.form_errors.push(a.response.data.errors[e][0])}))}}},n=i,o=e("2877"),d=Object(o["a"])(n,s,r,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0d7dbb.e960aa1b.js.map