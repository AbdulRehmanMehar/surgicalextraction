(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b2621ee"],{a96b:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"container",staticStyle:{margin:"100px auto"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-6"},[e("div",{staticClass:"card"},[s._m(0),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("form",{attrs:{id:"personal-form"},on:{submit:function(s){s.preventDefault()}}},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Name")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"name"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g Alex Smith"},domProps:{value:s.name},on:{input:function(t){t.target.composing||(s.name=t.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Email")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"disabled input",attrs:{type:"email",placeholder:"e.g. alexsmith@gmail.com"},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Phone")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.phone,expression:"phone"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g. +92 316 7943024"},domProps:{value:s.phone},on:{input:function(t){t.target.composing||(s.phone=t.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Password")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"****************"},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}})]),e("p",{staticClass:"help"},[s._v("Leave blank if not to change.")])]),s.password?e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Confirm Password")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.confirm_password,expression:"confirm_password"}],staticClass:"input",attrs:{type:"password",placeholder:"****************"},domProps:{value:s.confirm_password},on:{input:function(t){t.target.composing||(s.confirm_password=t.target.value)}}})])]):s._e()]),s.personalFormErrors&&s.personalFormErrors.length?e("div",{staticClass:"field has-text-danger"},s._l(s.personalFormErrors,(function(t,a){return e("p",{key:a,staticClass:"help"},[s._v(s._s(t))])})),0):s._e()])]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"card-footer-item"},[e("button",{staticClass:"button is-fullwidth",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),s.submitPersonalForm(t)}}},[s._v("Save")])])])]),e("br"),s.$root.currentUser.address&&s.$root.currentUser.address.length?e("div",{staticClass:"card"},[s._m(1),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},s._l(s.$root.currentUser.address,(function(t){return e("div",{key:t.id,staticClass:"container"},[e("p",[s._v(s._s(t.address))]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-8"},[e("p",[e("b",[s._v(s._s(t.state))]),s._v(" - "),e("b",[s._v(s._s(t.country))])])]),e("div",{staticClass:"column is-4",staticStyle:{"text-align":"right"}},[e("a",{on:{click:function(e){return e.preventDefault(),s.editAddress(e,t)}}},[s._v("Edit")]),s._v(" Â \n                                    "),e("a",{on:{click:function(e){return e.preventDefault(),s.deleteAddress(e,t.id)}}},[s._v("Delete")])])]),e("hr")])})),0)])]):s._e()]),e("div",{staticClass:"column is-6"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("p",{staticClass:"card-header-title"},[s._v(s._s("new"==s.address_type?"Address":"Edit Address"))])]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("form",{on:{submit:function(s){s.preventDefault()}}},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Country")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.country,expression:"country"}],staticClass:"input",attrs:{type:"text",placeholder:"Pakistan"},domProps:{value:s.country},on:{input:function(t){t.target.composing||(s.country=t.target.value)}}})]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("State, Province")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.state,expression:"state"}],staticClass:"input",attrs:{type:"text",placeholder:"Punjab"},domProps:{value:s.state},on:{input:function(t){t.target.composing||(s.state=t.target.value)}}})]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Address")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:s.address,expression:"address"}],staticClass:"textarea",attrs:{placeholder:"e.g. Sialkot Pakistan"},domProps:{value:s.address},on:{input:function(t){t.target.composing||(s.address=t.target.value)}}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.address_type,expression:"address_type"}],attrs:{type:"hidden"},domProps:{value:s.address_type},on:{input:function(t){t.target.composing||(s.address_type=t.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:s.address_id,expression:"address_id"}],attrs:{type:"hidden"},domProps:{value:s.address_id},on:{input:function(t){t.target.composing||(s.address_id=t.target.value)}}}),s.addressFormErrors&&s.addressFormErrors.length?e("div",{staticClass:"field has-text-danger"},s._l(s.addressFormErrors,(function(t,a){return e("p",{key:a,staticClass:"help"},[s._v(s._s(t))])})),0):s._e()])])]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"card-footer-item"},[e("button",{staticClass:"button is-fullwidth",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),s.submitAddressForm(t)}}},[s._v("Save")])])])]),e("br")])])])},r=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"card-header"},[e("p",{staticClass:"card-header-title"},[s._v("Personal Information")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"card-header"},[e("p",{staticClass:"card-header-title"},[s._v("Your Address")])])}],o=(e("7f7f"),{data:function(){return{name:null,email:null,phone:null,password:null,confirm_password:null,country:null,state:null,address:null,address_type:"new",address_id:null,image:null,personalFormErrors:[],addressFormErrors:[],imageFormErrors:[]}},created:function(){this.$root.setTitle("Edit Profile"),this.$store.dispatch("loadUser")},mounted:function(){this.name=this.$root.currentUser.name,this.email=this.$root.currentUser.email,this.phone=this.$root.currentUser.phone},methods:{submitPersonalForm:function(){var s=this;this.imageFormErrors=[],this.addressFormErrors=[],this.personalFormErrors=[];var t={name:this.name,phone:this.phone,password:this.password,confirm_password:this.confirm_password};this.$store.dispatch("updateUserPersonalInfo",t).then((function(t){s.$toastr("info",t.data.message,"Information")})).catch((function(t){for(var e in s.personalFormErrors=[],t.response.data.errors)e&&e.length&&s.personalFormErrors.push(t.response.data.errors[e][0])})),this.$store.dispatch("loadUser")},submitAddressForm:function(){var s=this;this.imageFormErrors=[],this.addressFormErrors=[],this.personalFormErrors=[];var t={state:this.state,country:this.country,address:this.address,address_id:this.address_id};"new"==this.address_type?this.$store.dispatch("addNewAddress",t).then((function(t){s.$toastr("info","Success! Address was added.","Information")})).catch((function(t){for(var e in s.addressFormErrors=[],t.response.data.errors)e&&e.length&&s.addressFormErrors.push(t.response.data.errors[e][0])})):this.$store.dispatch("updateAddress",t).then((function(t){s.$toastr("info","Success! Address was updated.","Information")})).catch((function(t){for(var e in s.addressFormErrors=[],t.response.data.errors)e&&e.length&&s.addressFormErrors.push(t.response.data.errors[e][0])})),this.country=null,this.state=null,this.address=null,this.address_type="new",this.$store.dispatch("loadUser")},editAddress:function(s,t){this.country=t.country,this.state=t.state,this.address=t.address,this.address_id=t.id,this.address_type="edit",window.scrollTo(0,0)},deleteAddress:function(s,t){var e=this;this.$store.dispatch("deleteAddress",{address_id:t}).then((function(s){e.$toastr("info","Success! Address was deleted.","Information")})).catch((function(s){e.$toastr("error","Aah! Something went wrong.","Error")})),this.$store.dispatch("loadUser")},handleFileChange:function(s){this.image=s.target.files[0],console.log(this.image,s)},submitImageForm:function(){var s=this;this.imageFormErrors=[],this.addressFormErrors=[],this.personalFormErrors=[];var t=new FormData;t.append("image",this.image),t.append("imageable_id",this.$root.currentUser.id),t.append("imageable_type","user"),this.$store.dispatch("addImage",t).then((function(t){s.$toastr("info","Success! Image was uploaded.","Information")})).catch((function(t){if(s.imageFormErrors=[],t.response.data.error)s.$toastr("error","Aah! Something went wrong.","Error");else if(t.response.data.errors)for(var e in t.response.data.errors)e&&e.length&&s.imageFormErrors.push(t.response.data.errors[e][0])})),this.$store.dispatch("loadUser")}}}),i=o,n=(e("e481"),e("2877")),d=Object(n["a"])(i,a,r,!1,null,"205d1569",null);t["default"]=d.exports},e481:function(s,t,e){"use strict";var a=e("eb2a"),r=e.n(a);r.a},eb2a:function(s,t,e){}}]);
//# sourceMappingURL=chunk-9b2621ee.9d9a55cd.js.map